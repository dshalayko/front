{"version":3,"sources":["assets/arrow_back_green.svg","Pages/CheckoutProduct/components/CheckoutProductElement.tsx","../node_modules/swiper/esm/components/keyboard/keyboard.js","Pages/CheckoutProduct/components/CheckoutSlider.tsx","Pages/CheckoutProduct/components/CheckoutProduct.tsx","Pages/CheckoutProduct/index.tsx"],"names":["CheckoutProductElement","props","className","onClick","onTouchStart","choice","id","numberId","style","display","quantity","totalId","price","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","Keyboard","handle","event","swiper","enabled","window","getWindow","document","getDocument","rtl","rtlTranslate","e","originalEvent","kc","keyCode","charCode","pageUpDown","params","keyboard","isPageUp","isPageDown","isArrowLeft","isArrowRight","isArrowUp","isArrowDown","allowSlideNext","isHorizontal","isVertical","allowSlidePrev","shiftKey","altKey","ctrlKey","metaKey","activeElement","nodeName","toLowerCase","onlyInViewport","inView","$el","parents","slideClass","slideActiveClass","swiperWidth","clientWidth","swiperHeight","clientHeight","windowWidth","innerWidth","windowHeight","innerHeight","swiperOffset","offset","left","scrollLeft","swiperCoord","top","point","preventDefault","returnValue","slideNext","slidePrev","emit","enable","$","on","disable","off","name","create","bindModuleMethods","init","destroy","CheckoutSlider","useState","setQuantity","onActiveIndexChange","activeSlide","slides","activeIndex","innerHTML","speed","initialSlide","mousewheel","centeredSlides","direction","slidesPerView","spaceBetween","slideToClickedSlide","Array","from","_","map","item","x","confirmQuantity","SwiperCore","use","Mousewheel","CheckoutProduct","updateCartItemQuantity","useActions","product","data","history","useHistory","modal","changeQuantity","newQuantity","button","removeErrorMsg","changeChoiceButtonStyle","getElementsByClassName","openModal","element","visibility","classList","remove","add","src","arrow","href","currentTarget","Number","swal","text","buttons","timer","push","buyItem","value","choiceText","getElementById","chosenNumber","chosenTotal","choiceLink","choiceButton","parentElement","disabled","pointerEvents","color","changeChoiceButtonName","CheckoutPage","setVisibleTrue","useEffect","location","state"],"mappings":"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","file":"static/js/27.76f3072b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/arrow_back_green.795033f2.svg\";","import React, { MouseEventHandler } from \"react\";\r\n\r\nexport function CheckoutProductElement (props: {\r\n     numberId: string, \r\n     totalId: string,\r\n     quantity: number,\r\n     onClick: MouseEventHandler,\r\n     display: string,\r\n     price: number,\r\n     choice: boolean, \r\n    }): JSX.Element {\r\n\r\n    return (\r\n        <>\r\n            <button className=\"checkout-container-quantity\" onClick={props.onClick} onTouchStart={() => \"\"}>\r\n                {props.choice ? <span id=\"choice-text\">Your choice</span> : ''}\r\n                <div id={props.numberId} className=\"checkout-container-number\" style={{display: props.display}}>{props.quantity} pieces</div>\r\n                <div id={props.totalId} className=\"checkout-container-total\" style={{display: props.display}}>\r\n                    <div className=\"checkout-container-number\">${props.quantity*props.price}</div>\r\n                    <div className=\"checkout-container-perpiece\">${props.price} per piece</div>\r\n                </div>\r\n            </button>\r\n        </>\r\n    );\r\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable consistent-return */\nimport { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../utils/dom';\nimport { bindModuleMethods } from '../../utils/utils';\nvar Keyboard = {\n  handle: function handle(event) {\n    var swiper = this;\n    if (!swiper.enabled) return;\n    var window = getWindow();\n    var document = getDocument();\n    var rtl = swiper.rtlTranslate;\n    var e = event;\n    if (e.originalEvent) e = e.originalEvent; // jquery fix\n\n    var kc = e.keyCode || e.charCode;\n    var pageUpDown = swiper.params.keyboard.pageUpDown;\n    var isPageUp = pageUpDown && kc === 33;\n    var isPageDown = pageUpDown && kc === 34;\n    var isArrowLeft = kc === 37;\n    var isArrowRight = kc === 39;\n    var isArrowUp = kc === 38;\n    var isArrowDown = kc === 40; // Directions locks\n\n    if (!swiper.allowSlideNext && (swiper.isHorizontal() && isArrowRight || swiper.isVertical() && isArrowDown || isPageDown)) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && (swiper.isHorizontal() && isArrowLeft || swiper.isVertical() && isArrowUp || isPageUp)) {\n      return false;\n    }\n\n    if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n      return undefined;\n    }\n\n    if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {\n      return undefined;\n    }\n\n    if (swiper.params.keyboard.onlyInViewport && (isPageUp || isPageDown || isArrowLeft || isArrowRight || isArrowUp || isArrowDown)) {\n      var inView = false; // Check that swiper should be inside of visible area of window\n\n      if (swiper.$el.parents(\".\" + swiper.params.slideClass).length > 0 && swiper.$el.parents(\".\" + swiper.params.slideActiveClass).length === 0) {\n        return undefined;\n      }\n\n      var $el = swiper.$el;\n      var swiperWidth = $el[0].clientWidth;\n      var swiperHeight = $el[0].clientHeight;\n      var windowWidth = window.innerWidth;\n      var windowHeight = window.innerHeight;\n      var swiperOffset = swiper.$el.offset();\n      if (rtl) swiperOffset.left -= swiper.$el[0].scrollLeft;\n      var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + swiperWidth, swiperOffset.top], [swiperOffset.left, swiperOffset.top + swiperHeight], [swiperOffset.left + swiperWidth, swiperOffset.top + swiperHeight]];\n\n      for (var i = 0; i < swiperCoord.length; i += 1) {\n        var point = swiperCoord[i];\n\n        if (point[0] >= 0 && point[0] <= windowWidth && point[1] >= 0 && point[1] <= windowHeight) {\n          if (point[0] === 0 && point[1] === 0) continue; // eslint-disable-line\n\n          inView = true;\n        }\n      }\n\n      if (!inView) return undefined;\n    }\n\n    if (swiper.isHorizontal()) {\n      if (isPageUp || isPageDown || isArrowLeft || isArrowRight) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if ((isPageDown || isArrowRight) && !rtl || (isPageUp || isArrowLeft) && rtl) swiper.slideNext();\n      if ((isPageUp || isArrowLeft) && !rtl || (isPageDown || isArrowRight) && rtl) swiper.slidePrev();\n    } else {\n      if (isPageUp || isPageDown || isArrowUp || isArrowDown) {\n        if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n      }\n\n      if (isPageDown || isArrowDown) swiper.slideNext();\n      if (isPageUp || isArrowUp) swiper.slidePrev();\n    }\n\n    swiper.emit('keyPress', kc);\n    return undefined;\n  },\n  enable: function enable() {\n    var swiper = this;\n    var document = getDocument();\n    if (swiper.keyboard.enabled) return;\n    $(document).on('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = true;\n  },\n  disable: function disable() {\n    var swiper = this;\n    var document = getDocument();\n    if (!swiper.keyboard.enabled) return;\n    $(document).off('keydown', swiper.keyboard.handle);\n    swiper.keyboard.enabled = false;\n  }\n};\nexport default {\n  name: 'keyboard',\n  params: {\n    keyboard: {\n      enabled: false,\n      onlyInViewport: true,\n      pageUpDown: true\n    }\n  },\n  create: function create() {\n    var swiper = this;\n    bindModuleMethods(swiper, {\n      keyboard: _extends({\n        enabled: false\n      }, Keyboard)\n    });\n  },\n  on: {\n    init: function init(swiper) {\n      if (swiper.params.keyboard.enabled) {\n        swiper.keyboard.enable();\n      }\n    },\n    destroy: function destroy(swiper) {\n      if (swiper.keyboard.enabled) {\n        swiper.keyboard.disable();\n      }\n    }\n  }\n};","import React, { useState } from \"react\";\r\nimport { Swiper, SwiperSlide } from \"swiper/react\";\r\nimport SwiperCore, {\r\n  Mousewheel,\r\n  Keyboard\r\n} from \"swiper\";\r\nimport \"swiper/swiper-bundle.min.css\";\r\nimport \"swiper/swiper.min.css\";\r\n\r\nSwiperCore.use([Mousewheel, Keyboard]);\r\n\r\nexport default function CheckoutSlider (props: {confirmQuantity: (quantity: number) => void}): JSX.Element {\r\n    const [ quantity, setQuantity ] = useState<number>();\r\n\r\n    return (\r\n        <>\r\n            <div id=\"modal\" className=\"checkout-quantity-choice\">\r\n                <div className=\"checkout-quantity-choice-content\">\r\n                <Swiper\r\n                    onActiveIndexChange={swiper => {\r\n                        const activeSlide = swiper.slides[swiper.activeIndex].innerHTML as unknown as number;\r\n                        setQuantity(activeSlide);\r\n                    }}\r\n                    className=\"checkout-swiper\"\r\n                    speed={500}\r\n                    initialSlide={0}\r\n                    mousewheel={true}\r\n                    centeredSlides={true}\r\n                    direction=\"vertical\"\r\n                    slidesPerView={5}\r\n                    spaceBetween={0}\r\n                    slideToClickedSlide={true}\r\n                >\r\n                    {\r\n                        Array.from(Array(25), (_,i)=>i+1).map(item=>item*10).map((x, i) =>{\r\n                        i += 1;\r\n                        return <SwiperSlide key={i}>{x}</SwiperSlide>;\r\n                        })\r\n                    }\r\n                </Swiper>\r\n                <button className=\"checkout-container-choice-button\" onClick={() => props.confirmQuantity(quantity as number)}>\r\n                    Confirm\r\n                </button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { IProduct } from \"../../../globalTypes\";\r\nimport { useActions } from \"../../../Store/hooks/useActions\";\r\nimport \"./CheckoutProductStyle.scss\";\r\nimport { useHistory } from \"react-router\";\r\nimport { CheckoutProductElement } from \"./CheckoutProductElement\";\r\nimport arrow from \"../../../assets/arrow_back_green.svg\";\r\nimport CheckoutSlider from \"./CheckoutSlider\";\r\nimport swal from 'sweetalert';\r\n\r\nexport default function CheckoutProduct(props: { data: IProduct }): JSX.Element {\r\n  const [ quantity, setQuantity ] = useState<number>();\r\n  const { updateCartItemQuantity } = useActions();\r\n  const product = props.data;\r\n  const history = useHistory();\r\n  let modal = false;\r\n\r\n  function changeQuantity(newQuantity: number, button: Element){\r\n    setQuantity(newQuantity);\r\n    removeErrorMsg();\r\n    changeChoiceButtonStyle(button);\r\n  }\r\n\r\n  function removeErrorMsg(){\r\n    const errorMsg = document.getElementsByClassName('checkout-container-error')[0] as HTMLDivElement;\r\n    errorMsg.style.display = 'none';\r\n  }\r\n\r\n  function buyItem(product: IProduct, quantity: number){\r\n    if(quantity > 0){\r\n      updateCartItemQuantity(product, quantity);\r\n      swal({\r\n        text: \"You have successfully added product to a cart\",\r\n        buttons: [false],\r\n        timer: 2000\r\n      });\r\n      history.push(\"/product\");\r\n    } else {\r\n      const errorMsg = document.getElementsByClassName('checkout-container-error')[0] as HTMLDivElement;\r\n      errorMsg.style.display = 'flex';\r\n    }\r\n  }\r\n\r\n  function openModal(){\r\n    const element = document.getElementsByClassName('checkout-quantity-choice')[0] as HTMLDivElement;\r\n    modal = !modal;\r\n    if(element){\r\n      element.style.visibility = modal ? 'inherit' : 'hidden';\r\n    }\r\n  }\r\n\r\n  function confirmQuantity(quantity: number){\r\n    setQuantity(quantity);\r\n    removeErrorMsg();\r\n    openModal();\r\n    changeChoiceButtonName(quantity);\r\n  }\r\n\r\n  function changeChoiceButtonName(value: number){\r\n    const choiceText = document.getElementById('choice-text') as HTMLDivElement;\r\n    const chosenNumber = document.getElementById('chosen-number') as HTMLDivElement;\r\n    const chosenTotal = document.getElementById('chosen-total') as HTMLDivElement;\r\n    const choiceLink = document.getElementsByClassName('checkout-container-link')[0] as HTMLLinkElement;\r\n    const choiceButton = chosenNumber.parentElement as HTMLButtonElement;\r\n    if(value > 0){\r\n      choiceText.style.display = 'none';\r\n      chosenNumber.style.display = 'block';\r\n      chosenTotal.style.display = 'flex';\r\n      choiceButton.disabled = true;\r\n      choiceButton.style.pointerEvents = 'none';\r\n      choiceButton.style.color = 'black';\r\n      choiceLink.style.display = 'block';\r\n      changeChoiceButtonStyle(choiceButton);\r\n    }\r\n  }\r\n\r\n  function changeChoiceButtonStyle(button: Element){\r\n    const activeButtons = Array.from(document.getElementsByClassName(\"checkout-active\"));\r\n    for (const item of activeButtons){\r\n      item.classList.remove(\"checkout-active\");\r\n    }\r\n    button.classList.add(\"checkout-active\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"checkout-nav\">\r\n        <img src={arrow}></img>\r\n        <a href=\"/product\">Back to products</a>\r\n      </div>\r\n      <div className=\"checkout-nav-mob\">      \r\n        <a href=\"/product\"><img src={arrow}></img></a>\r\n      </div>\r\n      <div className=\"checkout-container\">\r\n        <div className=\"checkout-container-form\">\r\n          <div className=\"checkout-container-label\">Select quantity</div>\r\n          <CheckoutProductElement numberId='' totalId='' quantity={50} display='block' onClick={(e) => changeQuantity(50, e.currentTarget)} price={product.price} choice={false}/>\r\n          <CheckoutProductElement numberId='' totalId='' quantity={150} display='block' onClick={(e) => changeQuantity(150, e.currentTarget)} price={product.price} choice={false}/>\r\n          <CheckoutProductElement numberId='' totalId='' quantity={250} display='block' onClick={(e) => changeQuantity(250, e.currentTarget)} price={product.price} choice={false}/>\r\n          <CheckoutProductElement numberId='chosen-number' totalId='chosen-total' quantity={Number(quantity)} display='none' onClick={openModal} price={product.price} choice={true}/>\r\n          <a href='#' className=\"checkout-container-link\" onClick={(e)=>{e.preventDefault(); openModal();}}>Change quantity</a>\r\n          <div className=\"checkout-container-error\">Select quantity</div>\r\n          <button className=\"checkout-container-button\" onClick={()=>buyItem(product, Number(quantity))}>\r\n            Buy\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <CheckoutSlider confirmQuantity={confirmQuantity}/>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport CheckoutProduct from \"./components/CheckoutProduct\";\r\nimport { useHistory } from \"react-router\";\r\nimport { IProduct } from \"../../globalTypes\";\r\nimport { useActions } from \"../../Store/hooks/useActions\";\r\n\r\nexport default function CheckoutPage(): JSX.Element {\r\n  const history = useHistory();\r\n  const { setVisibleTrue } = useActions();\r\n  useEffect(() => {\r\n    setVisibleTrue();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <CheckoutProduct data={history.location.state as IProduct} />\r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}