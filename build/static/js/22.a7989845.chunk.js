(this["webpackJsonpwebsite-stories"]=this["webpackJsonpwebsite-stories"]||[]).push([[22],{452:function(e,t,n){},453:function(e,t,n){},454:function(e,t,n){},456:function(e,t,n){},457:function(e,t,n){},459:function(e,t,n){},544:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Y}));var c=n(14),r=n(7),a=n(234),s=n(0),i=n.n(s),l=(n(452),n(542)),o=n(552),d=n(551),u=n(4),j=n.n(u),b=n(10),O=(n(453),n(539)),x=n(532),h=n(533),f=n(536),m=n(230),p=n(101),v=n(1);function g(){var e=function(){var e=document.getElementById("name-input");e&&(e.value="");var t=document.getElementById("price-input");t&&(t.value="0");var n=document.getElementById("file-input");n&&(n.value="")},t=Object(x.a)({field:{marginTop:1,marginBottom:20,display:"block"},input:{marginTop:10,marginBottom:20,display:"block",marginRight:"auto",marginLeft:"auto"}})(),n=Object(s.useState)(""),r=Object(c.a)(n,2),a=r[0],i=r[1],l=Object(s.useState)("0"),o=Object(c.a)(l,2),u=o[0],g=o[1],N=Object(s.useState)(),k=Object(c.a)(N,2),w=k[0],y=k[1],C=Object(s.useState)("img"),S=Object(c.a)(C,2),_=S[0],A=S[1],I=function(){if(a&&u&&w){var e=new FormData;return e.append("name",a),e.append("price",u),e.append("type",_),e.append("img",w),e}return console.log("formData error"),null},z=function(){var t=Object(b.a)(j.a.mark((function t(){var n,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=I())){t.next=17;break}return t.next=4,Object(p.a)(n);case 4:if(!(c=t.sent).status){t.next=12;break}return alert(c.message),i(""),g("0"),y(void 0),e(),t.abrupt("return");case 12:i(""),g("0"),y(void 0),e(),alert("Create successfully");case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(v.jsxs)(h.a,{className:"new-product-container",children:[Object(v.jsx)("h1",{children:"Create new product"}),Object(v.jsxs)(d.a,{component:"form",noValidate:!0,autoComplete:"off",sx:{"& .MuiTextField-root":{mt:1,width:"30ch",display:"block",mr:"auto",ml:"auto"}},children:[Object(v.jsx)(O.a,{className:t.field,onChange:function(e){return i(e.target.value)},id:"name-input",label:"Add name",variant:"filled",required:!0,size:"small",InputProps:{disableUnderline:!0}}),Object(v.jsx)(O.a,{className:t.field,onChange:function(e){return g(e.target.value)},id:"price-input",label:"Add price",type:"number",required:!0,InputLabelProps:{shrink:!0},variant:"filled",defaultValue:"0",size:"small",InputProps:{disableUnderline:!0}}),Object(v.jsx)("input",{accept:"image/* , video/*",className:t.input,type:"file",id:"file-input",onChange:function(e){return function(e){e.preventDefault();var t=e.nativeEvent.target.files[0];"video"==t.type.split("/")[0]&&A("vid"),y(t)}(e)}}),Object(v.jsxs)(f.a,{direction:"row",spacing:2,children:[Object(v.jsx)(m.a,{variant:"contained",color:"success",onClick:function(){z()},children:"Add"}),Object(v.jsx)(m.a,{variant:"outlined",color:"error",type:"reset",onClick:function(){i(""),g("0"),y(void 0)},children:"Cancel"})]})]})]})}n(454);var N=n(94),k=n(55),w=n(65),y=n(71),C=n(546),S=n(555),_=n(554),A=n(455),I=n.n(A),z=n(231),B=n(263),E=n.n(B);function D(){var e=Object(k.a)((function(e){return e.orders})),t=e.orders,n=e.loading,r=e.error,a=Object(w.a)().fetchOrders,l=i.a.useState(!1),o=Object(c.a)(l,2),d=o[0],u=o[1],O=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)(t);case 2:n=e.sent,console.log(n),alert(n),a();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function x(e){var t,n=e.el,c=e.index,r="panel".concat(c),a="panel".concat(c,"d-content"),s="panel".concat(c,"d-header");return Object(v.jsxs)(C.a,{expanded:d===r,onChange:(t=r,function(e,n){u(!!n&&t)}),children:[Object(v.jsx)(_.a,{"aria-controls":a,id:s,expandIcon:Object(v.jsx)(I.a,{}),children:Object(v.jsxs)("div",{className:"accordion-title",children:[Object(v.jsxs)("div",{children:["\u2116",c+1]}),Object(v.jsxs)("div",{children:["Date: ",n.createdAt.split("T").shift()]}),Object(v.jsxs)("div",{children:["User: ",n.user_ID]}),Object(v.jsxs)("div",{children:["Status: ",n.order_status?"Close":"Active"]})]})}),Object(v.jsxs)(S.a,{children:[n.product_list.map((function(e,t){return Object(v.jsxs)("div",{className:"accordion-details",children:[Object(v.jsxs)("h3",{children:["Name: ",e.product_name]}),Object(v.jsxs)("div",{children:["Quantity: ",e.quantity]}),Object(v.jsxs)("div",{children:["Price: $",e.total_price]})]},t)})),Object(v.jsxs)("div",{children:["Total price:",Object(v.jsxs)("strong",{children:[" ","$",n.product_list.reduce((function(e,t){return e+t.total_price}),0)]})]}),Object(v.jsx)("div",{className:"accordion-btn-block",children:Object(v.jsx)(z.a,{"aria-label":"delete",size:"large",color:"error",onClick:function(){O(n.id)},children:Object(v.jsx)(E.a,{fontSize:"inherit"})})})]})]},n.id)}return Object(s.useEffect)((function(){a()}),[]),n?Object(v.jsx)(N.a,{}):r?Object(v.jsx)("h1",{children:r}):t.length?Object(v.jsx)("div",{className:"orders-container",children:t.map((function(e,t){return Object(v.jsx)(x,{el:e,index:t},e.id)}))}):Object(v.jsx)("h1",{children:"Items not found"})}n(456);function T(){var e=Object(k.a)((function(e){return e.goods})),t=e.goods,n=e.loading,c=e.error,r=Object(w.a)().fetchGoods,a=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(t);case 2:n=e.sent,alert(JSON.stringify(n)),r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){r()}),[]),n?Object(v.jsx)(N.a,{}):c?Object(v.jsx)("h1",{children:c}):t.length?Object(v.jsx)("div",{className:"all-goods-container",children:Object(v.jsx)("div",{className:"product-card-container",children:t.map((function(e){return Object(v.jsxs)("div",{className:"admin-product-card",children:["img"===e.type?Object(v.jsx)("img",{src:e.src,className:"goods-img",alt:""}):Object(v.jsx)("img",{src:e.thumbnail,className:"goods-img",alt:""}),Object(v.jsx)("div",{className:"card-content",children:Object(v.jsxs)("div",{className:"card-info",children:[Object(v.jsx)("div",{className:"card-title",children:e.name}),Object(v.jsxs)("div",{className:"card-price",children:["$",e.price]})]})}),Object(v.jsx)("div",{className:"btn-block",children:Object(v.jsx)(z.a,{"aria-label":"delete",size:"large",color:"error",onClick:function(){a(e.id)},children:Object(v.jsx)(E.a,{fontSize:"inherit"})})})]},e.id)}))})}):Object(v.jsx)("h1",{children:"Items not found"})}n(457);var U=n(117),M=n(556);function P(){var e=Object(k.a)((function(e){return e.managers})),t=e.managers,n=e.loading,r=e.error,a=Object(w.a)().fetchManagers,i=Object(s.useState)(""),l=Object(c.a)(i,2),o=l[0],d=l[1],u=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)(o);case 2:if(t=e.sent,d(""),!t.status){e.next=7;break}return alert(t.message),e.abrupt("return");case 7:alert("Success"),a();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("Are you sure to delete this manager ".concat(t,"?"))){e.next=10;break}return e.next=4,Object(U.b)(t);case 4:if(!(n=e.sent).status){e.next=8;break}return alert(n.message),e.abrupt("return");case 8:alert("Success"),a();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){a()}),[]),n?Object(v.jsx)(N.a,{}):r?Object(v.jsx)("h1",{children:r}):Object(v.jsxs)("div",{className:"managers-container",children:[Object(v.jsxs)("div",{className:"new-manager-card",children:[Object(v.jsx)(M.a,{variant:"h6",margin:"normal",sx:{textAlign:"center"},children:"Create new manager"}),Object(v.jsxs)("div",{className:"new-manager-input-box",children:[Object(v.jsx)(O.a,{label:"Telephone number",value:o,onChange:function(e){d(e.target.value)},color:"success",size:"small",sx:{mr:"5px"}}),Object(v.jsx)(m.a,{variant:"contained",color:"success",disabled:!o,onClick:function(){return u()},children:"Create"})]})]}),t.length?Object(v.jsx)("div",{className:"all-managers-card",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(v.jsxs)("div",{className:"manager-card",children:[Object(v.jsxs)("div",{children:["\u2116",t+1]}),Object(v.jsx)("div",{children:e.telephone_number}),Object(v.jsxs)("div",{children:["Active ordes: ",e.order_queue]}),Object(v.jsx)(z.a,{"aria-label":"delete",size:"small",color:"error",onClick:function(){return x(e.telephone_number)},children:Object(v.jsx)(E.a,{})})]},t)}))}):Object(v.jsx)("h1",{className:"no-managers-title",children:"Managers not found"})]})}var q=n(458),F=n.n(q),J=n(67);function $(e){var t=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Are you sure?")){t.next=6;break}return t.next=4,Object(J.c)(n);case 4:t.next=7;break;case 6:case 7:e.fun(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=Object(b.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(J.g)(n);case 2:e.fun(!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)("div",{className:"modal-container",children:Object(v.jsxs)("div",{className:"modal-card",children:[Object(v.jsx)("div",{className:"modal-exit",onClick:function(){return e.fun(!1)},children:Object(v.jsx)(F.a,{color:"warning",fontSize:"medium"})}),Object(v.jsx)("h1",{className:"modal-title",children:e.user.telephone_number}),Object(v.jsx)("a",{href:e.user.src,target:"_blank",rel:"noreferrer",children:Object(v.jsx)("img",{className:"modal-img",src:e.user.src,alt:"photo"})}),Object(v.jsx)("div",{className:"modal-btn-group",children:Object(v.jsxs)(f.a,{direction:"row",spacing:2,children:[Object(v.jsx)(m.a,{onClick:function(){return t(e.user.id)},variant:"outlined",color:"error",startIcon:Object(v.jsx)(E.a,{}),children:"Delete"}),Object(v.jsx)(m.a,{onClick:function(){return n(e.user.id)},variant:"contained",children:"Apply"})]})})]})})}var L=n(553),R=n(547),V=n(557),G=n(460),Q=n.n(G);n(459);function H(){var e=Object(k.a)((function(e){return e.users})),t=e.users,n=e.loading,r=e.error,a=Object(w.a)().fetchUsers,i=Object(s.useState)(!1),l=Object(c.a)(i,2),o=l[0],d=l[1],u=Object(s.useState)(t[0]),j=Object(c.a)(u,2),b=j[0],O=j[1];return Object(s.useEffect)((function(){a()}),[o]),n?Object(v.jsx)(N.a,{}):r?Object(v.jsx)("h1",{children:r}):t.length?Object(v.jsxs)("div",{className:"users-container",children:[Object(v.jsx)(L.a,{sx:{bgcolor:"background.paper",borderRadius:"10px",width:"100%"},component:"nav",children:t.map((function(e,t){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(R.a,{button:!0,children:Object(v.jsxs)("div",{className:"item-card",onClick:function(){O(e),d(!0)},children:[Object(v.jsxs)("div",{children:["\u2116",t+1]}),Object(v.jsx)("div",{className:"item-text",children:e.telephone_number}),Object(v.jsx)(Q.a,{color:"success",fontSize:"large"})]})},e.id),Object(v.jsx)(V.a,{light:!0})]})}))}),o?Object(v.jsx)($,{user:b,fun:d}):""]}):Object(v.jsx)("h1",{children:"Users not found"})}var K=["children","value","index"];function W(e){var t=e.children,n=e.value,c=e.index,s=Object(a.a)(e,K);return Object(v.jsx)("div",Object(r.a)(Object(r.a)({role:"tabpanel",hidden:n!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},s),{},{children:n===c&&Object(v.jsx)(d.a,{mt:1,className:"workplace",children:t})}))}function X(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Y(){var e=i.a.useState(0),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(v.jsx)("div",{className:"adminPage-contaner",children:Object(v.jsxs)(d.a,{sx:{width:"100%"},children:[Object(v.jsx)(d.a,{sx:{borderBottom:1,borderColor:"divider",width:"100%",display:"flex",justifyContent:"center"},children:Object(v.jsxs)(l.a,{value:n,onChange:function(e,t){a(t)},"aria-label":"scrollable auto tabs example",textColor:"primary",indicatorColor:"primary",variant:"scrollable",scrollButtons:"auto",allowScrollButtonsMobile:!0,children:[Object(v.jsx)(o.a,Object(r.a)({label:"Users"},X(0))),Object(v.jsx)(o.a,Object(r.a)({label:"Add new product"},X(1))),Object(v.jsx)(o.a,Object(r.a)({label:"All goods"},X(2))),Object(v.jsx)(o.a,Object(r.a)({label:"Orders"},X(3))),Object(v.jsx)(o.a,Object(r.a)({label:"Managers"},X(4)))]})}),Object(v.jsx)(W,{value:n,index:0,children:Object(v.jsx)(H,{})}),Object(v.jsx)(W,{value:n,index:1,children:Object(v.jsx)(g,{})}),Object(v.jsx)(W,{value:n,index:2,children:Object(v.jsx)(T,{})}),Object(v.jsx)(W,{value:n,index:3,children:Object(v.jsx)(D,{})}),Object(v.jsx)(W,{value:n,index:4,children:Object(v.jsx)(P,{})})]})})}}}]);
//# sourceMappingURL=22.a7989845.chunk.js.map