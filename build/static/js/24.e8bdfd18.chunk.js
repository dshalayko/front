(this["webpackJsonpwebsite-stories"]=this["webpackJsonpwebsite-stories"]||[]).push([[24],{275:function(e,t,c){"use strict";t.a=c.p+"static/media/arrow_back_green.795033f2.svg"},446:function(e,t,c){},447:function(e,t,c){},549:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return b}));var a=c(0),n=c(55),r=c(65),s=(c(446),c(1));function l(e){var t=Object(r.a)(),c=t.updateCartItemQuantity,a=t.clearCartItem;function n(t){e.data.quantity+t==0?l():c(e.data.product,t)}function l(){var t=document.getElementById("delete-modal".concat(e.index));t&&(t.style.display="flex")}function i(){var t=document.getElementById("delete-modal".concat(e.index));t&&(t.style.display="none")}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"cart-element",children:[Object(s.jsxs)("div",{className:"cart-element-info",children:["vid"===e.data.product.type?Object(s.jsx)("div",{className:"cart-item-image",style:{backgroundImage:'url("'.concat(e.data.product.thumbnail,'")')}}):Object(s.jsx)("div",{className:"cart-item-image",style:{backgroundImage:'url("'.concat(e.data.product.src,'")')}}),Object(s.jsxs)("div",{className:"cart-element-price",children:[Object(s.jsxs)("div",{className:"element-total-price",children:["$",e.data.product.price*e.data.quantity]}),Object(s.jsxs)("div",{className:"per-piece-price",children:[e.data.product.price," per piece"]})]})]}),Object(s.jsxs)("div",{className:"element-count",children:[Object(s.jsx)("button",{className:"element-count-button",onClick:function(){return n(-1)},children:"\u2013"}),Object(s.jsx)("div",{className:"element-total-count",children:e.data.quantity}),Object(s.jsx)("button",{className:"element-count-button",onClick:function(){return n(1)},children:"+"})]}),Object(s.jsx)("button",{className:"cart-element-remove",onClick:l})]}),Object(s.jsx)("div",{id:"delete-modal".concat(e.index),className:"cart-element-delete-modal",children:Object(s.jsxs)("div",{className:"cart-element-delete-modal-content",children:[Object(s.jsx)("div",{className:"cart-element-delete-modal-title",children:"Delete"}),Object(s.jsx)("div",{className:"cart-element-delete-modal-text",children:"Do you really want to delete the item?"}),Object(s.jsxs)("div",{className:"cart-element-delete-modal-buttons",children:[Object(s.jsx)("button",{className:"cart-element-delete-modal-button",onClick:i,children:"Cancel"}),Object(s.jsx)("button",{className:"cart-element-delete-modal-button",onClick:function(){a(e.data.product),i()},children:"Delete"})]})]})})]})}c(447);var i=c(275),d=c(15),o=c(48),u=c(313),j=c.n(u);function m(e){var t=e.data,c=Object(r.a)().placeAnOrder,a=Object(d.g)(),n=t.reduce((function(e,t){return e+t.product.price*t.quantity}),0);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"cart-arrow",children:Object(s.jsx)("button",{onClick:a.goBack,children:Object(s.jsx)("img",{src:i.a})})}),Object(s.jsxs)("div",{className:"cart-header",children:[Object(s.jsxs)("div",{className:"cart-nav",children:[Object(s.jsx)("a",{href:"/product",children:"Main page"}),Object(s.jsx)("span",{children:"\xa0\xa0\xa0>\xa0\xa0\xa0"}),Object(s.jsx)(o.b,{to:"/cart",children:"Cart"})]}),Object(s.jsx)("div",{className:"cart-label",children:"Cart"})]}),Object(s.jsx)("div",{className:"cart-container",children:t.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"cart-elements",children:t.map((function(e,t){return Object(s.jsx)(l,{data:e,index:"".concat(t)},t)}))}),Object(s.jsxs)("div",{className:"total-price",children:[Object(s.jsxs)("div",{className:"total-price-text",children:[Object(s.jsx)("div",{children:"Total price:\xa0"}),Object(s.jsxs)("div",{className:"cart-total-price",children:["$",n]})]}),Object(s.jsx)("div",{style:{alignSelf:"center",width:"80%"},children:Object(s.jsx)("button",{className:"cart-button",onClick:function(){var e=[];t.forEach((function(t){var c={product_id:"".concat(t.product.id),product_name:t.product.name,quantity:t.quantity,total_price:t.quantity*t.product.price};e.push(c)}));var r={user_ID:sessionStorage.getItem("userTgID"),product_list:e,total_price:n};c(r),j()({text:"You have successfully placed an order",buttons:[!1],timer:2e3}),a.push("/product")},children:"PLACE AN ORDER"})})]})]}):Object(s.jsxs)("div",{className:"cart-empty",children:[Object(s.jsx)("div",{className:"cart-empty-label",children:"You have not selected a product yet"}),Object(s.jsx)("button",{className:"cart-button",children:Object(s.jsx)("a",{href:"/product",children:"Go to the catalog"})})]})})]})}function b(){var e=Object(n.a)((function(e){return e.cart})).cartProducts,t=Object(r.a)(),c=t.updateCart,l=t.setVisibleTrue;return Object(a.useEffect)((function(){c(),l()}),[]),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(m,{data:e})})}}}]);
//# sourceMappingURL=24.e8bdfd18.chunk.js.map